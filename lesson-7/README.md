# Terraform Infrastructure with Kubernetes Project

## –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Terraform –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ–≤–Ω–æ—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é AWS –∑ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–æ–º —Ç–∞ Helm-—á–∞—Ä—Ç–∞–º–∏ –¥–ª—è –¥–µ–ø–ª–æ—é Django-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤. –ü—Ä–æ—î–∫—Ç –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –º–æ–¥—É–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É —Ç–∞ –ª–µ–≥–∫–æ—Å—Ç—ñ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
lesson-7/
‚îÇ
‚îú‚îÄ‚îÄ main.tf                  # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ backend.tf               # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É –¥–ª—è —Å—Ç–µ–π—Ç—ñ–≤ (S3 + DynamoDB)
‚îú‚îÄ‚îÄ outputs.tf               # –ó–∞–≥–∞–ª—å–Ω–µ –≤–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
‚îú‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
‚îÇ
‚îú‚îÄ‚îÄ modules/                 # –ö–∞—Ç–∞–ª–æ–≥ –∑ —É—Å—ñ–º–∞ –º–æ–¥—É–ª—è–º–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ s3-backend/          # –ú–æ–¥—É–ª—å –¥–ª—è S3 —Ç–∞ DynamoDB
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ s3.tf            # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è S3-–±–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dynamodb.tf      # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è DynamoDB
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf     # –ó–º—ñ–Ω–Ω—ñ –¥–ª—è S3
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf       # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ S3 —Ç–∞ DynamoDB
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ vpc/                 # –ú–æ–¥—É–ª—å –¥–ª—è VPC
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vpc.tf           # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è VPC, –ø—ñ–¥–º–µ—Ä–µ–∂, Internet Gateway
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.tf        # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf     # –ó–º—ñ–Ω–Ω—ñ –¥–ª—è VPC
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf       # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ VPC
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ecr/                 # –ú–æ–¥—É–ª—å –¥–ª—è ECR
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ecr.tf           # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf     # –ó–º—ñ–Ω–Ω—ñ –¥–ª—è ECR
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf       # –í–∏–≤–µ–¥–µ–Ω–Ω—è URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é ECR
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ eks/                 # –ú–æ–¥—É–ª—å –¥–ª—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ eks.tf           # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è EKS –∫–ª–∞—Å—Ç–µ—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ variables.tf     # –ó–º—ñ–Ω–Ω—ñ –¥–ª—è EKS
‚îÇ       ‚îî‚îÄ‚îÄ outputs.tf       # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª–∞—Å—Ç–µ—Ä
‚îÇ
‚îî‚îÄ‚îÄ django-chart/                  # Helm —á–∞—Ä—Ç–∏ –¥–ª—è –¥–µ–ø–ª–æ—é
        ‚îú‚îÄ‚îÄ templates/       # Kubernetes —à–∞–±–ª–æ–Ω–∏
        ‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml   # Deployment –∑ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è–º
        ‚îÇ   ‚îú‚îÄ‚îÄ service.yaml      # LoadBalancer —Å–µ—Ä–≤—ñ—Å
        ‚îÇ   ‚îú‚îÄ‚îÄ configmap.yaml    # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
        ‚îÇ   ‚îî‚îÄ‚îÄ hpa.yaml          # Horizontal Pod Autoscaler
        ‚îú‚îÄ‚îÄ Chart.yaml       # –ú–µ—Ç–∞–¥–∞–Ω—ñ —á–∞—Ä—Ç–∞
        ‚îî‚îÄ‚îÄ values.yaml      # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
```

## –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ—î–∫—Ç–æ–º

### Terraform –∫–æ–º–∞–Ω–¥–∏

#### –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
```bash
terraform init
```

#### –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω
```bash
terraform plan
```

#### –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω
```bash
terraform apply
```

#### –ó–Ω–∏—â–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
```bash
terraform destroy
```

### Kubernetes —Ç–∞ Helm –∫–æ–º–∞–Ω–¥–∏

#### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ EKS –∫–ª–∞—Å—Ç–µ—Ä–∞
```bash
aws eks update-kubeconfig --name <cluster-name> --region <region>
```

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
```bash
kubectl get nodes
```

#### –î–µ–ø–ª–æ–π Django –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —á–µ—Ä–µ–∑ Helm
```bash
# –û–Ω–æ–≤—ñ—Ç—å values.yaml –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º ECR URL
helm upgrade --install django-app ./charts/django-app

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
helm list
kubectl get pods,services,hpa
```

#### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
kubectl run -i --tty load-generator --rm --image=busybox --restart=Never -- /bin/sh
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ:
while true; do wget -q -O- http://django-app-django/; done
```

## –û–ø–∏—Å –º–æ–¥—É–ª—ñ–≤

### 1. –ú–æ–¥—É–ª—å `s3-backend`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform.

**–†–µ—Å—É—Ä—Å–∏:**
- **S3 Bucket** - –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —Å—Ç–∞–Ω—É Terraform –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- **DynamoDB Table** - –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∞–º

### 2. –ú–æ–¥—É–ª—å `vpc`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è EKS –∫–ª–∞—Å—Ç–µ—Ä–∞.

**–†–µ—Å—É—Ä—Å–∏:**
- **VPC** - —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∞ –º–µ—Ä–µ–∂–∞
- **Public/Private Subnets** - –ø—ñ–¥–º–µ—Ä–µ–∂—ñ —É –∫—ñ–ª—å–∫–æ—Ö –∑–æ–Ω–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- **Internet Gateway & NAT Gateway** - –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–¥–æ—Å—Ç—É–ø—É
- **Route Tables** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è —Ç—Ä–∞—Ñ—ñ–∫—É

### 3. –ú–æ–¥—É–ª—å `ecr`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–ª—è Docker –æ–±—Ä–∞–∑—ñ–≤ Django –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

**–†–µ—Å—É—Ä—Å–∏:**
- **ECR Repository** - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- **Lifecycle Policy** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –æ–±—Ä–∞–∑—ñ–≤
- **Scan Configuration** - —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ

### 4. –ú–æ–¥—É–ª—å `eks`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ AWS.

**–†–µ—Å—É—Ä—Å–∏:**
- **EKS Cluster** - Kubernetes –∫–ª–∞—Å—Ç–µ—Ä
- **Node Groups** - –≥—Ä—É–ø–∏ worker nodes –¥–ª—è –∑–∞–ø—É—Å–∫—É –ø–æ–¥—ñ–≤
- **IAM Roles & Policies** - –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞ —Ç–∞ –Ω–æ–¥—ñ–≤
- **Security Groups** - –º–µ—Ä–µ–∂–µ–≤–∞ –±–µ–∑–ø–µ–∫–∞
- **Add-ons** - –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (VPC CNI, CoreDNS, kube-proxy)

**–û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Kubernetes
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ AWS —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- –í–∏—Å–æ–∫–æ–¥–æ—Å—Ç—É–ø–Ω–∞ –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–æ–¥—ñ–≤
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### 5. Helm —á–∞—Ä—Ç `django-app`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –î–µ–ø–ª–æ–π Django –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∑ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è–º.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**

#### `deployment.yaml`
- –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Django –ø–æ–¥—ñ–≤ –∑ –æ–±—Ä–∞–∑—É –∑ ECR
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ ConfigMap
- Health checks (readiness/liveness probes)
- –†–µ—Å—É—Ä—Å–Ω—ñ –ª—ñ–º–∏—Ç–∏ –¥–ª—è HPA

#### `service.yaml`
- LoadBalancer –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- –ü—Ä–æ–∫—Å—É–≤–∞–Ω–Ω—è —Ç—Ä–∞—Ñ—ñ–∫—É –Ω–∞ –ø–æ—Ä—Ç 8000 Django

#### `configmap.yaml`
- –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è Django
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

#### `hpa.yaml`
- **Horizontal Pod Autoscaler**
- –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –≤—ñ–¥ 2 –¥–æ 6 –ø–æ–¥—ñ–≤
- –ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ CPU –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ > 70%
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –∑–∞ –ø–∞–º'—è—Ç—Ç—é

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### HPA (Horizontal Pod Autoscaler)
```yaml
# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ values.yaml
autoscaling:
  enabled: true
  minReplicas: 2      # –ú—ñ–Ω—ñ–º—É–º –ø–æ–¥—ñ–≤
  maxReplicas: 6      # –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥—ñ–≤
  targetCPUUtilizationPercentage: 70  # –ü–æ—Ä—ñ–≥ CPU
```

### –†–µ—Å—É—Ä—Å–Ω—ñ –≤–∏–º–æ–≥–∏ (–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –¥–ª—è HPA)
```yaml
resources:
  requests:
    cpu: 100m    # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
    memory: 128Mi
  limits:
    cpu: 500m    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ñ –ª—ñ–º–∏—Ç–∏
    memory: 512Mi
```

## –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. **Terraform** (–≤–µ—Ä—Å—ñ—è 1.0+)
2. **AWS CLI** –∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É
3. **kubectl** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Kubernetes
4. **Helm** (–≤–µ—Ä—Å—ñ—è 3.0+) –¥–ª—è –¥–µ–ø–ª–æ—é –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤
5. **Docker** –æ–±—Ä–∞–∑ Django —É ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó

## –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
git clone <repository-url>
cd lesson-7
terraform init

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
terraform plan
terraform apply
```

### –ö—Ä–æ–∫ 2: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ EKS
```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∫–ª–∞—Å—Ç–µ—Ä–∞
aws eks update-kubeconfig --name <cluster-name> --region <region>

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
kubectl get nodes
```

### –ö—Ä–æ–∫ 3: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker –æ–±—Ä–∞–∑—É
```bash
# –ó–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É—à –æ–±—Ä–∞–∑—É –≤ ECR
aws ecr get-login-password --region <region> | docker login --username AWS --password-stdin <ecr-url>
docker build -t django-app .
docker tag django-app:latest <ecr-url>/django-app:latest
docker push <ecr-url>/django-app:latest
```

### –ö—Ä–æ–∫ 4: –û–Ω–æ–≤–ª–µ–Ω–Ω—è Helm –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```yaml
# –£ charts/django-app/values.yaml –≤–∫–∞–∂—ñ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π ECR URL
image:
  repository: <YOUR_ACCOUNT>.dkr.ecr.<REGION>.amazonaws.com/django-app
  tag: latest
```

### –ö—Ä–æ–∫ 5: –î–µ–ø–ª–æ–π –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Django —á–µ—Ä–µ–∑ Helm
helm upgrade --install django-app ./charts/django-app

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—é
kubectl get pods -w
helm status django-app
```

### –ö—Ä–æ–∫ 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
kubectl get services

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
kubectl run load-generator --image=busybox -it --rm -- /bin/sh
# while true; do wget -q -O- http://django-app-django/; done

# –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞ HPA
kubectl get hpa -w
```

## –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
```bash
# –°—Ç–∞—Ç—É—Å Helm —Ä–µ–ª—ñ–∑—ñ–≤
helm list

# –õ–æ–≥–∏ –ø–æ–¥—ñ–≤
kubectl logs -l app=django-app-django

# –°—Ç–∞—Ç—É—Å HPA
kubectl describe hpa django-app-django-hpa

# –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl top pods
kubectl top nodes

# –ü–æ–¥—ñ—ó –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl get events --sort-by=.metadata.creationTimestamp
```

### –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
# –†—É—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (—Ç–∏–º—á–∞—Å–æ–≤–æ)
kubectl scale deployment django-app-django --replicas=4

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Helm
helm upgrade django-app ./charts/django-app --set image.tag=v1.1.0

# –û—Ç–∫–∞—Ç —Ä–µ–ª—ñ–∑—É
helm rollback django-app 1
```

## –í–∞–∂–ª–∏–≤—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

‚ö†Ô∏è **–£–≤–∞–≥–∞:**
- EKS –∫–ª–∞—Å—Ç–µ—Ä –∫–æ—à—Ç—É—î ~$0.10/–≥–æ–¥–∏–Ω—É —Ç—ñ–ª—å–∫–∏ –∑–∞ –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- LoadBalancer —Å—Ç–≤–æ—Ä—é—î ELB (~$16-25/–º—ñ—Å—è—Ü—å)
- Worker nodes –æ–ø–ª–∞—á—É—é—Ç—å—Å—è —è–∫ –∑–≤–∏—á–∞–π–Ω—ñ EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–∏

üîí **–ë–µ–∑–ø–µ–∫–∞:**
- ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- EKS –∫–ª–∞—Å—Ç–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
- IAM —Ä–æ–ª—ñ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏

üìà **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:**
- HPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞—Å—à—Ç–∞–±—É—î –ø–æ–¥–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–µ—Ç—Ä–∏–∫
- Cluster Autoscaler –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ nodes
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ CloudWatch

üöÄ **Production Ready:**
- Health checks –¥–ª—è –≤–∏—Å–æ–∫–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- Resource limits –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏
- LoadBalancer –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- ConfigMap –¥–ª—è –≥–Ω—É—á–∫–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

## –û—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

```bash
# –í–∏–¥–∞–ª–µ–Ω–Ω—è Helm —Ä–µ–ª—ñ–∑—ñ–≤
helm uninstall django-app

# –ó–Ω–∏—â–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
terraform destroy
```

**–í–∞–∂–ª–∏–≤–æ:** –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ LoadBalancer'–∏ –≤–∏–¥–∞–ª–µ–Ω–æ –ø–µ—Ä–µ–¥ `terraform destroy`, —ñ–Ω–∞–∫—à–µ ELB –º–æ–∂–µ –∑–∞–ª–∏—à–∏—Ç–∏—Å—è —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –Ω–∞—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –∫–æ—à—Ç–∏.
